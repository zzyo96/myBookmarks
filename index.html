<!DOCTYPE html>
<html>
  <head>
    <title>我的作品</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <header></header>
    <main>
      <div class="wrapper" id="mainXXXXX">

      </div>
    </main>
    <footer></footer>
    <script>
      keys = {
        0:{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
        1:{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
        2:{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
        length:3
      }
      hash = {'q':'qq.com','w':'weibo.com'}
      //取出localStorage中zzz对应的hash
      hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
      if(hashInLocalStorage){
        hash = hashInLocalStorage
      }
      //遍历keys，生成kbd标签
      index = 0
      while(index < keys['length']){//0 1 2
        divXXXXX = document.createElement('div')
        mainXXXXX.appendChild(divXXXXX)
        row = keys[index]//第一个数组 第二个数组 第三个数组
        index2 = 0
        while(index2<row['length']){
          kbdXXXXX = document.createElement('kbd')
          kbdXXXXX.textContent = row[index2]
          buttonX = document.createElement('button')
          buttonX.textContent = '编辑'
          buttonX.id = row[index2]
          buttonX.onclick = function(zxcvbn){
            //zxcvbn['target']就是用户点击的元素
            key = zxcvbn['target']['id']// qwert
            x = prompt('给我一个网址') //qq.com
            hash[key] = x //hash变更
            localStorage.setItem('zzz',JSON.stringify(hash))
            console.log(hash)
          }
          kbdXXXXX.appendChild(buttonX)
          divXXXXX.appendChild(kbdXXXXX)
          index2 = index2 + 1
        }
        index = index+1
      }
      document.onkeypress = function(zxcvbn){
        key = zxcvbn['key'] //q w e
        website = hash[key]
        //location.href = 'http://'+website
        window.open('http://'+website,'_blank')
      }
    </script>
  </body>
</html>